<!-- Template for the results page -->
<h3 id="results-header1" class="bolded-blue" style="text-align: center"></h3>
<h4 id="results-header2" class="text-center"></h4>
<br>
{{#if data.code}}
<h5 style="text-align: center">
    <span data-i18n="litw-results-code"></span>
    <span>{{ data.code }}</span>
</h5>
<br>
{{/if}}
<br>
<div class="accordion pb-4" id="accordionPanelsStayOpenExample">
  <div class="accordion-item">
    <h2 class="accordion-header">
      <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseOne"
              aria-expanded="true" aria-controls="collapseOne" data-i18n="study-fl-results-more">
      </button>
    </h2>
    <div id="collapseOne" class="accordion-collapse collapse show" data-bs-parent="#accordionExample">
      <div class="accordion-body p-0">
          <div id="results-main" class="container center-content p-0">
              <div id="participant_relative" data-score="{{ data.relative }}"></div>
              <div id="participant_absolute" data-score="{{ data.absolute }}"></div>
              <div id="graphic"></div>
          </div>
          <div class="p-4">
              <h5 data-i18n="study-fl-results-details"></h5>
              <h6>
                  <span data-i18n="study-fl-results-details-relative"></span>
                  <span>{{ data.relative }}</span>
                  <span>%</span>
              </h6>
              <h6>
                  <span data-i18n="study-fl-results-details-absolute"></span>
                  <span>{{ data.absolute }}</span>
                  <span>%</span>
              </h6>
          </div>
      </div>
    </div>
  </div>
  <div class="accordion-item">
    <h2 class="accordion-header">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
              data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false"
              aria-controls="panelsStayOpen-collapseTwo" data-i18n="study-fl-results-explanation">
      </button>
    </h2>
    <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse">
      <div class="accordion-body">
          <div id="results-explain">
              <h6 data-i18n="study-fl-results-explanation-analytic"></h6>
              <h6 data-i18n="study-fl-results-explanation-holistic"></h6>
          </div>
      </div>
    </div>
  </div>
  <div class="accordion-item">
    <h2 class="accordion-header">
      <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse"
              data-bs-target="#panelsStayOpen-collapseThree" aria-expanded="false"
              aria-controls="panelsStayOpen-collapseThree" data-i18n="study-fl-results-references">
      </button>
    </h2>
    <div id="panelsStayOpen-collapseThree" class="accordion-collapse collapse">
      <div class="accordion-body">
          <h6 data-i18n="study-fl-results-citation"></h6>
          <h6 data-i18n="study-fl-results-citation1"></h6>
      </div>
    </div>
  </div>
</div>

<div id="results-footer"></div>

<script type="text/javascript">
    let shownHeader;
    $(document).ready(function() {
        LITW.results.drawGraphic('graphic');
        let participant_relative = parseInt(document.getElementById('participant_relative').dataset.score);
        let participant_absolute = parseInt(document.getElementById('participant_absolute').dataset.score);

        if (participant_relative === participant_absolute) {
            LITW.results.drawMark(participant_absolute, $.i18n('study-fl-results-graphic-legend-ra'));
        } else {
            LITW.results.drawMark(participant_relative, $.i18n('study-fl-results-graphic-legend-r'));
            LITW.results.drawMark(participant_absolute, $.i18n('study-fl-results-graphic-legend-a'));
            if( participant_relative < participant_absolute ) {
                document.getElementById("results-header1").textContent =  
                    $.i18n('study-fl-results-header1-relative');
                document.getElementById("results-header2").textContent =  
                    $.i18n('study-fl-results-header2-relative');
            } else {
                document.getElementById("results-header1").textContent =  
                    $.i18n('study-fl-results-header1-absolute');
                document.getElementById("results-header2").textContent =  
                    $.i18n('study-fl-results-header2-absolute');
            }
        }
    });

</script>
